{"inkVersion":21,"root":[["\n",{"->":"NameQuest"},"\n",["done",{"#f":5,"#n":"g-0"}],null],"done",{"NameQuest":[["ev","str","^help_for_friend","/str",0,{"x()":"isTaskInProgress","exArgs":2},"/ev",{"->":".^.b","c":true},{"b":["\n",{"->":"Act1_HelpForFriend"},{"->":".^.^.^.1"},null]}],"nop","\n",{"->":"Repeat"},{"#f":1}],"Repeat":[["^Дверь: Есть ощущение, что с этой дверью больше делать нечего.","\n","ev","str","^Закончить осмотр","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ","end","\n",{"#f":5}]}],{"#f":1}],"Act1_HelpForFriend":[["ev","str","^tool","/str",{"x()":"itemIsExist","exArgs":1},"/ev",{"VAR=":"toolExist","re":true},"\n","^Дверь: Та самая дверь, за которой вряд-ли можно будет обнаружить что-то интересное. Сейчас замок этой Двери лишь испытание, рассчитанное на проверку дружбы и смекалки.","\n","ev","str","^Открыть дверь","/str",{"VAR?":"tryToOpenDoor"},false,"==",{"VAR?":"doorOpened"},false,"==","&&","/ev",{"*":".^.c-0","flg":5},"ev","str","^Взломать дверь","/str",{"VAR?":"toolExist"},true,"==",{"VAR?":"doorOpened"},false,"==","&&","/ev",{"*":".^.c-1","flg":5},"ev","str","^Осмотреть дверь","/str","/ev",{"*":".^.c-2","flg":4},"ev","str","^Попробовать выбить дверь","/str",{"VAR?":"firstCheckDoor"},true,"==",{"VAR?":"doorOpened"},false,"==","&&","/ev",{"*":".^.c-3","flg":5},"ev","str","^Отойти от двери","/str","/ev",{"*":".^.c-4","flg":4},{"c-0":["^ ",{"->":"Act1_HelpForFriend_TryOpenDoor"},"\n",{"#f":5}],"c-1":["^ ",{"->":"Act1_HelpForFriend_BreakingDoor"},"\n",{"#f":5}],"c-2":["^ ",{"->":"Act1_HelpForFriend_CheckDoor"},"\n",{"#f":5}],"c-3":["^ ",{"->":"Act1_HelpForFriend_HitDoor"},"\n",{"#f":5}],"c-4":["^ ","end","\n",{"#f":5}]}],{"#f":1}],"Act1_HelpForFriend_TryOpenDoor":[["^Дверь: Проворот дверной ручки не дал ожидаемого результата. Дверь и вправду оказалась закрыта. Но а как же приступать к решительным мерам, предварительно не смирившись с реальностью, где замок применяют по назначению, а не просто используют для создания ложного впечатления защищённости.","\n","ev","str","^Оставить попытки открыть дверь","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ","\n","ev",true,"/ev",{"VAR=":"tryToOpenDoor","re":true},{"->":"Act1_HelpForFriend"},{"#f":5}]}],{"#f":1}],"Act1_HelpForFriend_CheckDoor":[["^Дверь: Дверь изготовлена из натуральной древесины. Обыкновенность двери подчёркивает стандартный цилиндровый замок, рассчитанный на несколько проворотов ключа. Совершив резкий удар плечём в дверную область вблизи замка есть вероятность открыть дверь без лишней подготовки. С другой стороны, если раздобыть Инструменты для взлома, то можно взломать замок и избежать лишних \"жертв\".","\n","ev","str","^Закончить осмотр","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ","\n","ev",{"VAR?":"firstCheckDoor"},false,"==","str","^help_for_friend","/str","str","^check_door","/str",{"x()":"isSubTaskInProgress","exArgs":2},"&&","/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^help_for_friend","/str","str","^check_door","/str",{"x()":"setDoneSubTask","exArgs":2},"pop","/ev","\n",{"->":".^.^.^.16"},null]}],"nop","\n","ev",true,"/ev",{"VAR=":"firstCheckDoor","re":true},{"->":"Act1_HelpForFriend"},{"#f":5}]}],{"#f":1}],"Act1_HelpForFriend_HitDoor":[["^Дверь: Сильный удар плечом в деревянную Дверь застал Замок врасплох. Громкий треск дерева в сочетании со звонким механическим звуком Замка привлекли внимание Олега. Судя по удивлённому лицу он определённо не ожидал такого развития событий. Дверь открыта! Но теперь...придётся столкнуться с последствиями такого выбора.","\n","ev","str","^*лёгкий стон* Ух...Моё плечо...","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["\n","ev",30,{"x()":"hitHealth","exArgs":1},"pop","/ev","\n","ev","str","^help_for_friend","/str","str","^search_tools","/str",{"x()":"isSubTaskInProgress","exArgs":2},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^help_for_friend","/str","str","^search_tools","/str",{"x()":"setDoneSubTask","exArgs":2},"pop","/ev","\n","ev","str","^help_for_friend","/str","str","^open_door","/str",{"x()":"setDoneSubTask","exArgs":2},"pop","/ev","\n",{"->":".^.^.^.17"},null]}],"nop","\n","ev","str","^help_for_friend","/str","str","^open_door","/str",{"x()":"isSubTaskInProgress","exArgs":2},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^help_for_friend","/str","str","^open_door","/str",{"x()":"setDoneSubTask","exArgs":2},"pop","/ev","\n",{"->":".^.^.^.29"},null]}],"nop","\n","ev",true,"/ev",{"VAR=":"doorOpened","re":true},"ev",true,"/ev",{"VAR=":"hitDoor","re":true},{"->":"Act1_HelpForFriend_HitDoorOpened"},{"#f":5}]}],{"#f":1}],"Act1_HelpForFriend_HitDoorOpened":[["^Вы: *лёгкий стон* Ух...Моё плечо...","\n","^Олег: Сань, вот это ты влетел в дверь! Это было нечто! Как ты? Цел? Рекомендую тебе потом сходить в медпункт, чтобы тебя осмотрели. Ха-ха! Никто мне не поверит, как сам Александр именно так решил проблему с дверью. Интересно, что скажет Анатолий Степанович на этот счёт...","\n","ev","str","^Разберёмся. Я попробую ему всё объяснить.","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["\n","end",{"#f":5}]}],{"#f":1}],"Act1_HelpForFriend_BreakingDoor":[["ev",{"x()":"startMiniGame"},"pop","/ev","\n","ev",true,"/ev",{"VAR=":"doorOpened","re":true},"^Дверь: Через какое-то время сосредоточенной попытки овладения Инструментами для взлома прозвучал долгожданный металлический щелчок. Дверь открылась! Стоит отметить, при этом никто не пострадал. Но судя по реакции Замка...в следующий раз лучше использовать Ключ.","\n","ev","str","^help_for_friend","/str","str","^open_door","/str",{"x()":"setDoneSubTask","exArgs":2},"pop","/ev","\n","ev","str","^Ура! Я сделал это! Дверь открыта!","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ","end","\n",{"#f":5}]}],{"#f":1}],"global decl":["ev","str","^long_road","/str",{"VAR=":"CurrentQuest"},"str","^talk_makar","/str",{"VAR=":"CurrentSubquest"},false,{"VAR=":"itemExist"},false,{"VAR=":"longRoadRepeat1"},false,{"VAR=":"longRoadRepeat2"},false,{"VAR=":"hitGait"},false,{"VAR=":"repeatTalkSearchTools"},false,{"VAR=":"meetDirector"},false,{"VAR=":"picklockExist"},false,{"VAR=":"screwdriverExist"},false,{"VAR=":"toolExist"},false,{"VAR=":"tryToOpenDoor"},false,{"VAR=":"firstCheckDoor"},false,{"VAR=":"doorOpened"},false,{"VAR=":"hitDoor"},false,{"VAR=":"repeatTalkOleg"},false,{"VAR=":"hitDoorTalk"},false,{"VAR=":"homeDoorOpened"},"/ev","end",null],"#f":1}],"listDefs":{}}