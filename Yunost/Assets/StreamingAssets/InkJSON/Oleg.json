{"inkVersion":21,"root":[["\n",{"->":"NameQuest"},"\n","\n",["done",{"#f":5,"#n":"g-0"}],null],"done",{"NameQuest":[["ev",{"VAR?":"CurrentQuest"},"str","^help_for_friend","/str","==","/ev",{"->":".^.b","c":true},{"b":["\n",{"->":"Act1_HelpForFriend"},{"->":".^.^.^.2"},null]}],["ev",{"VAR?":"CurrentQuest"},"str","^sweet_home","/str","==","/ev",{"->":".^.b","c":true},{"b":["\n",{"->":"Act1_SweetHome"},{"->":".^.^.^.2"},null]}],"nop","\n","end",{"#f":1}],"Act1_HelpForFriend":["ev",{"VAR?":"CurrentSubquest"},"str","^talk_oleg","/str","==","/ev",[{"->":".^.b","c":true},{"b":["^ ",{"->":"Act1_HelpForFriend_TalkOleg"},{"->":".^.^.^.8"},null]}],"nop","\n","ev",{"VAR?":"CurrentSubquest"},"str","^check_door","/str","==","/ev",[{"->":".^.b","c":true},{"b":["^ ",{"->":"Act1_HelpForFriend_RepeatCheckDoor"},{"->":".^.^.^.18"},null]}],"nop","\n","ev",{"VAR?":"CurrentSubquest"},"str","^search_tools","/str","==",{"VAR?":"repeatTalkSearchTools"},false,"==","&&","/ev",[{"->":".^.b","c":true},{"b":["^ ",{"->":"Act1_HelpForFriend_SearchTools"},{"->":".^.^.^.32"},null]}],"nop","\n","ev",{"VAR?":"CurrentSubquest"},"str","^search_tools","/str","==",{"VAR?":"repeatTalkSearchTools"},true,"==","&&","/ev",[{"->":".^.b","c":true},{"b":["^ ",{"->":"Act1_HelpForFriend_RepeatSearchTools"},{"->":".^.^.^.46"},null]}],"nop","\n","ev",{"VAR?":"CurrentSubquest"},"str","^open_door","/str","==",{"VAR?":"screwdriverExist"},true,"==","&&",{"VAR?":"picklockExist"},true,"==","&&","/ev",[{"->":".^.b","c":true},{"b":["^ ",{"->":"Act1_HelpForFriend_OpenDoor"},{"->":".^.^.^.64"},null]}],"nop","\n","ev",{"VAR?":"CurrentSubquest"},"str","^talk_result","/str","==","/ev",[{"->":".^.b","c":true},{"b":["^ ",{"->":"Act1_HelpForFriend_TalkResult"},{"->":".^.^.^.74"},null]}],"nop","\n","end",{"#f":1}],"Act1_HelpForFriend_TalkOleg":[["^Олег: О, ты всё-таки смог меня найти! Дело в том, что я не могу попасть в свой дом. Дверь заклинило. Поможешь её открыть?","\n","ev","str","^Да, конечно. Я же \"профессиональный взломщик\".","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Не уверен, что смогу взломать дверь в одиночку.","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["^ ",{"->":"Act1_HelpForFriend_Professional"},"\n",{"#f":5}],"c-1":["^ ",{"->":"Act1_HelpForFriend_Beginner"},"\n",{"#f":5}]}],{"#f":1}],"Act1_HelpForFriend_Professional":[["^Вы: Да, конечно. Я же \"профессиональный взломщик\".","\n","^Олег: Тогда дерзай, буду тебе благодарен. Если понадобится моя помощь, то подходи - обсудим.","\n","ev","str","^Пойду осмотрю дверь.","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ","\n","ev","str","^help_for_friend","/str","str","^talk_oleg","/str",{"x()":"setDoneSubTask","exArgs":2},"pop","/ev","\n","end",{"#f":5}]}],{"#f":1}],"Act1_HelpForFriend_Beginner":[["^Вы: Не уверен, что смогу взломать дверь в одиночку.","\n","^Олег: Не парься, две пары рук лучше, чем одна. Для того, чтобы приступить к вскрытию замка нам необходимо раздобыть Инструменты для взлома. Нам понадобятся Отвёртка и Отмычки. Поищи их у скамеек, тут недавно работал столяр, может оставил что-то. Заодно можешь осмотреть дверь.","\n","ev","str","^Понял, пойду искать.","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ","\n","ev","str","^help_for_friend","/str","str","^talk_oleg","/str",{"x()":"setDoneSubTask","exArgs":2},"pop","/ev","\n","ev","str","^help_for_friend","/str","str","^check_door","/str",{"x()":"setDoneSubTask","exArgs":2},"pop","/ev","\n","end",{"#f":5}]}],{"#f":1}],"Act1_HelpForFriend_RepeatCheckDoor":[["^Олег: Ты уже осмотрел дверь? Если нет, то самое время. Может тогда что-то придёт в голову?","\n","ev","str","^Сейчас осмотрю дверь.","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["\n","end",{"#f":5}]}],{"#f":1}],"Act1_HelpForFriend_SearchTools":[["^Олег: Ну как? Есть идеи?","\n","ev","str","^Пока не знаю, где найти инструменты для взлома.","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ",{"->":"Act1_HelpForFriend_SearchToolsTalk"},"\n",{"#f":5}]}],{"#f":1}],"Act1_HelpForFriend_SearchToolsTalk":[["^Вы: Пока не знаю, где найти инструменты для взлома.","\n","^Олег: Тебе нужно найти Отвёртку и Отмычки. Поищи их у скамеек, тут недавно работал столяр, может оставил что-то. Объединив их, получишь свои Инструменты для взлома. Элементарно же!","\n","ev","str","^Понял. Пойду поищу.","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ","\n","ev",true,"/ev",{"VAR=":"repeatTalkSearchTools","re":true},"end",{"#f":5}]}],{"#f":1}],"Act1_HelpForFriend_RepeatSearchTools":[["^Олег: Не можешь найти Отвёртку и Отмычки? Поищи внимательнее у Скамеек напротив Домиков. Что-то столяр должен был оставить! Как найдёшь, то объедини их и получишь Инструменты для взлома.","\n","ev","str","^Буду искать внимательнее.","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ","end","\n",{"#f":5}]}],{"#f":1}],"Act1_HelpForFriend_OpenDoor":[["^Олег: О, я вижу ты раздобыл Инструменты для взлома. Дерзай к Двери вскрывать замок или поищи другой способ открыть Дверь.","\n","ev","str","^Посмотрю, что можно сделать","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ","end","\n",{"#f":5}]}],{"#f":1}],"Act1_HelpForFriend_TalkResult":[[["ev",{"VAR?":"hitDoor"},true,"==","/ev",{"->":".^.b","c":true},{"b":["\n","^Олег: Спасибо тебе за помощь. Но с дверью ты переборщил...как бы нам не прилетело от Анатолия Степановича. Лучше сходи к Администрации и обговори с ним...эту ситуацию...Заодно и Ключ возьмёшь от своего Дома.","\n",{"->":".^.^.^.2"},null]}],["ev",{"VAR?":"hitDoor"},false,"==","/ev",{"->":".^.b","c":true},{"b":["\n","^Олег: Ты смог открыть дверь! Молодец, Саня. Огромное спасибо, друг! Да и тебе бы пора уже отдохнуть. Ключ от двери твоего Дома у Директора. Сходи к Администрации и забери его. Увидимся позже!","\n",{"->":".^.^.^.2"},null]}],"nop","\n","ev","str","^Ключ уже забрал.","/str","str","^key","/str",{"x()":"itemIsExist","exArgs":1},"/ev",{"*":".^.c-0","flg":5},"ev","str","^До встречи.","/str","str","^key","/str",{"x()":"itemIsExist","exArgs":1},"!","/ev",{"*":".^.c-1","flg":5},{"c-0":["^ ","\n",{"->":"Act1_HelpForFriend_TalkResultHaveKey"},{"#f":5}],"c-1":["\n","ev","str","^help_for_friend","/str","str","^talk_result","/str",{"x()":"setDoneSubTask","exArgs":2},"pop","/ev","\n","end",{"#f":5}]}],{"#f":1}],"Act1_HelpForFriend_TalkResultHaveKey":[["^Вы: Ключ уже забрал.","\n",["ev",{"VAR?":"hitDoor"},true,"==","/ev",{"->":".^.b","c":true},{"b":["\n","^Олег: Оперативно сработано! Но всё же поговори с ним о Двери.","\n","ev","str","^help_for_friend","/str","str","^talk_result","/str",{"x()":"setDoneSubTask","exArgs":2},"pop","/ev","\n",{"->":".^.^.^.4"},null]}],["ev",{"VAR?":"hitDoor"},false,"==","/ev",{"->":".^.b","c":true},{"b":["\n","^Олег: Оперативно сработано! Тогда дерзай отдыхать!","\n","ev","str","^help_for_friend","/str","str","^talk_result","/str",{"x()":"setDoneSubTask","exArgs":2},"pop","/ev","\n","ev","str","^sweet_home","/str","str","^director","/str",{"x()":"setDoneSubTask","exArgs":2},"pop","/ev","\n","ev","str","^sweet_home","/str","str","^search_key","/str",{"x()":"setDoneSubTask","exArgs":2},"pop","/ev","\n",{"->":".^.^.^.4"},null]}],"nop","\n","ev","str","^Увидимся","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["\n","end",{"#f":5}]}],{"#f":1}],"Act1_SweetHome":[["ev",{"VAR?":"CurrentSubquest"},"str","^open_door","/str","==",{"VAR?":"CurrentSubquest"},"str","^go_to_home","/str","==","||","/ev",{"->":".^.b","c":true},{"b":["\n",{"->":"Act1_SweetHomeRepeatTalk"},{"->":".^.^.^.4"},null]}],["ev",{"VAR?":"CurrentSubquest"},"str","^director","/str","==",{"VAR?":"meetDirector"},false,"==","||","/ev",{"->":".^.b","c":true},{"b":["\n",{"->":"Act1_SweetHomeHaventKey"},{"->":".^.^.^.4"},null]}],["ev",{"VAR?":"CurrentSubquest"},"str","^director","/str","==","str","^key","/str",{"x()":"itemIsExist","exArgs":1},"&&","/ev",{"->":".^.b","c":true},{"b":["\n",{"->":"Act1_SweetHomeHaveKeyTalkDirector"},{"->":".^.^.^.4"},null]}],["ev",{"VAR?":"repeatTalkOleg"},true,"==","/ev",{"->":".^.b","c":true},{"b":["\n",{"->":"Act1_SweetHomeRepeatTalk"},{"->":".^.^.^.4"},null]}],"nop","\n",{"#f":1}],"Act1_SweetHomeHaventKey":[["^Олег: Рекомендую тебе поспешить, пока Анатолий Степанович у себя. Если ты вдруг подзабыл, то он у Администрации.","\n","ev","str","^Помню помню. Уже иду.","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ","end","\n",{"#f":5}]}],{"#f":1}],"Act1_SweetHomeHaveKeyTalkDirector":[["^Олег: Поспеши к Анатолию Степановичу. Лучше ему от нас узнать о ситуации с Дверью.","\n","ev",true,"/ev",{"VAR=":"repeatTalkOleg","re":true},"ev","str","^Уже иду.","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ","end","\n",{"#f":5}]}],{"#f":1}],"Act1_SweetHomeRepeatTalk":[["^Олег: *Олег задумчиво стоял и наблюдал за тем, как ветер колышет листву*","\n","ev","str","^*Уйти*","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ ","end","\n",{"#f":5}]}],{"#f":1}],"global decl":["ev","str","^long_road","/str",{"VAR=":"CurrentQuest"},"str","^talk_makar","/str",{"VAR=":"CurrentSubquest"},false,{"VAR=":"itemExist"},false,{"VAR=":"longRoadRepeat1"},false,{"VAR=":"longRoadRepeat2"},false,{"VAR=":"hitGait"},false,{"VAR=":"repeatTalkSearchTools"},false,{"VAR=":"meetDirector"},false,{"VAR=":"picklockExist"},false,{"VAR=":"screwdriverExist"},false,{"VAR=":"toolExist"},false,{"VAR=":"tryToOpenDoor"},false,{"VAR=":"firstCheckDoor"},false,{"VAR=":"doorOpened"},false,{"VAR=":"hitDoor"},false,{"VAR=":"repeatTalkOleg"},false,{"VAR=":"hitDoorTalk"},false,{"VAR=":"homeDoorOpened"},"str","^Нет","/str",{"VAR=":"Повторение_Инструменты_Акт1_ПомощьДругу"},"str","^Нет","/str",{"VAR=":"Повторение_Ключ_Акт1_ДомМилыйДом"},false,{"VAR=":"Инструмент_Найден"},false,{"VAR=":"Ключ_Подобран"},"str","^Нет","/str",{"VAR=":"Дверь_Открыта"},"str","^Нет","/str",{"VAR=":"Повторение_Директор_Акт1_ДомМилыйДом"},"/ev","end",null],"#f":1}],"listDefs":{}}